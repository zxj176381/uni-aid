(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{364:function(s,a,t){"use strict";t.r(a);var n=t(45),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),t("p",[s._v("在使用 uni-app 框架开发时，当我们每添加一个页面都需要在 pages.json 添加一次，在团队开发时很容易冲突。并且在 "),t("code",[s._v("路由拦截")]),s._v(" 和 "),t("code",[s._v("统计页面路径")]),s._v(" 以及 "),t("code",[s._v("页面参数")]),s._v(" 时相对比较麻烦， "),t("code",[s._v("uni-aid")]),s._v(" 就是来帮助开发者做这些事情的。")]),s._v(" "),t("h2",{attrs:{id:"它是如何工作的"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#它是如何工作的"}},[s._v("#")]),s._v(" 它是如何工作的？")]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v("uni-aid")]),s._v(" 中开发者不用再去关注 pages.json 文件，uni-aid 会把 pages.json 配置拆分到每个页面目录下，生成一个 JSON 文件，开发者只需修改和关注页面目录下的 JSON 配置即可实时更新 pages.json。")]),s._v(" "),t("p",[s._v("在此，建议开发者们在开发过程中使用 Git 忽略 pages.json 文件的修改和提交，团队中每个开发者的 pages.json 都由 uni-aid 帮助生成。")]),s._v(" "),t("h2",{attrs:{id:"快速上手"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[s._v("#")]),s._v(" 快速上手")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("本文建议新创建一个 uni-aid 框架搭配学习 uni-aid。")])]),s._v(" "),t("p",[t("strong",[s._v("1. 在 "),t("code",[s._v("package.json")]),s._v(" 中添加一些 scripts")])]),s._v(" "),t("p",[s._v("这一步骤是可选的，但我们推荐你完成它。在下文中，我们会默认这些 scripts 已经被添加。")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"aid:add"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npx uniaid add"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"aid:watch"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npx uniaid watch"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[t("strong",[s._v("2. 初始化页面目录配置")])]),s._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),t("ul",[t("li",[s._v("在第一次使用 uniaid 时，必须先使用 "),t("code",[s._v("npx uniaid init")]),s._v("。")]),s._v(" "),t("li",[s._v("此命令主要时根据 pages.json 来创建目录的，"),t("code",[s._v("npx uniaid watch")]),s._v(" 不可创建页面目录，并且在没有执行 "),t("code",[s._v("npx uniaid init")]),s._v(" 前执行 "),t("code",[s._v("npx uniaid watch")]),s._v(" 时，会发生不可预估的问题。")])])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据 pages.json 生成对应的页面目录以及页面配置。")]),s._v("\n$ npx uniaid init\n")])])]),t("p",[t("strong",[s._v("3. 创建新的页面和组件")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建新的页面或者组件")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run aid:add\n\n? 选择要创建的视图类型\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 页面\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 组件\n\n? 请输入视图目录名称 template/home\n\n? 是否为分包视图 （y/N）\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("ul",[t("li",[s._v("创建页面或者组件时，要么不填写 "),t("code",[s._v("vue文件的名称")]),s._v("， 要么"),t("code",[s._v(".vue")]),s._v(" 文件的名字务必是 "),t("code",[s._v("index")]),s._v("。")]),s._v(" "),t("li",[s._v("页面路径建议 "),t("code",[s._v("pages/${PAGE_DIR}/index")]),s._v("，只需填写 "),t("code",[s._v("PAGE_DIR")]),s._v(" 即可。\n例如：")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("/pages/template/home/index"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" 对应 "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("template/home"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])])])]),s._v(" "),t("p",[t("strong",[s._v("4. 监听页面目录下 JSON 的文件和 _uniaid 文件夹下的 json 变化。")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run aid:watch\n")])])]),t("ul",[t("li",[s._v("在这一步就可以把 pages.json 目录忽略了，因为你不再会去关注它或者去修改它。")])]),s._v(" "),t("h2",{attrs:{id:"目录结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[s._v("#")]),s._v(" 目录结构")]),s._v(" "),t("div",{staticClass:"language-vue extra-class"},[t("pre",{pre:!0,attrs:{class:"language-vue"}},[t("code",[s._v(".\n├── src\n│  ├── _uniaid "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 全局配置 --\x3e")]),s._v("\n│  │  ├── globalStyle.json\n│  │  └── tabBar.json\n│  │\n│  ├── pages\n│  │  ├── home\n│  │  │  ├── index.js "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- helper --\x3e")]),s._v("\n│  │  │  ├── index.json "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 当前页面配置 --\x3e")]),s._v("\n│  │  │  └── index.vue "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- vue 页面 --\x3e")]),s._v("\n│  │  │\n│  │  └── personal\n│  │     ├── index.js\n│  │     ├── index.json\n│  │     └── index.vue\n│  │\n│  ├── routers "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 路由 --\x3e")]),s._v("\n│  │  ├── alias.js "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 所有页面的页面别名对应页面的路径 --\x3e")]),s._v("\n│  │  └── exclude.js "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 路由权限权限管理 --\x3e")]),s._v("\n│  │\n│  └── service "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 服务 --\x3e")]),s._v("\n│    ├── home\n│    │  └── index.js "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- home页的所有接口在此文件中 --\x3e")]),s._v("\n│    │\n│    └── personal\n│       └── index.js\n│\n└── package.json\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);